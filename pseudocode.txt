pi sends ASK READY
arduino sends READY
pi receives READY

for all chunks stored in pi
    pi sends &xxxx (allocate memory, pre-chunk command)
    pi starts listening for MEMORY ALLOCATED or ALL CHUNKS DONE
    arduino parses non-chunk commands
        if arduino gets ASK READY
            send READY
        if arduino gets START CHUNK
            set internal flag inChunk to true
            pi stores **chunk data**
        if arduino gets &xxxx (allocate memory)
            arduino allocate memory
            arduino sends MEMORY ALLOCATED
    pi receieves MEMORY ALLOCATED or ALL CHUNKS DONE
        ALL CHUNKS DONE: break loop, stop
        MEMORY ALLOCATED:
            pi starts listening for NEXT CHUNK or ALL CHUNKS DONE
            pi sends **chunk data**
    (if inChunk) arduino parses chunk commands line by line through stored **chunk data**
        if line is DONE
            free memory
            arduino sends ALL CHUNKS DONE
        elif line is END CHUNK
            set internal flag inChunk to false
            arduino sends NEXT CHUNK
        elif line is SET ORIGIN
            set current position for all motors
        elif line is motor movement step values (line starts with @)
            stepper.move() for all steppers to STEP values
            block with while loop for stepper.run()
    arduino frees memory
    arduino sends NEXT CHUNK
    pi receives NEXT CHUNK
    pi sends **chunk data**


MOTCTL:

&800
START CHUNK
@100 -50 100 100
@10 -80 10 5
SET ORIGIN
END CHUNK$
&500
START CHUNK
@100 100 100 100
@50 30 20 10
@-20 -50 -100 -1
END CHUNK$
DONE


functions:


- fillChunk
- allocateChunk buffer
- handleChunkLine
- handleNonChunkLine
- readSerial
- checkMotorPositions
- calculateSteps
- parseCurrentChunk
